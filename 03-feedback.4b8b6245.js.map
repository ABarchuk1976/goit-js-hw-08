{"mappings":"gfAAAA,EAAA,S,iBAGMC,EAAWC,SAASC,kBAAkB,SACtCC,EAAaF,SAASC,kBAAkB,WACxCE,EAAUH,SAASI,cAAc,kBAEjCC,EAAM,sBAERC,EAAY,CACdC,MAAO,GACPC,QAAS,IAGX,SAASC,IACP,IACE,IAAMC,EAAUC,aAAaC,QAAQP,GAErC,OAAOK,EAAUG,KAAKC,MAAMJ,GAAW,CAAEH,MAAO,GAAIC,QAAS,G,CAC7D,MAAOO,GACPC,QAAQD,MAAM,YAAoBA,EAAMP,Q,EAI5CS,OAAOC,iBAAiB,QAAQ,WAC9BZ,EAAYG,IACZV,EAAS,GAAGoB,MAAQb,EAAUC,MAC9BL,EAAW,GAAGiB,MAAQb,EAAUE,O,IAGlC,IAgBMY,EAAYC,EAAAC,UAhBH,WACb,IACEX,aAAaY,QAAQlB,EAAKQ,KAAKW,UAAUlB,IAGzC,IAAMmB,EAAO,IAAIC,KACXC,EAAOF,EAAKG,WACZC,EAAUJ,EAAKK,aACfC,EAAUN,EAAKO,aACrBhB,QAAQiB,IAAI,GAAWC,OAARP,EAAK,KAAcO,OAAXL,EAAQ,KAAWK,OAARH,G,CAElC,MAAOhB,GACPC,QAAQD,MAAM,YAAoBA,EAAMP,Q,IAlCrB,KAwCvBT,EAAS,GAAGmB,iBAAiB,SAAS,SAAAiB,IACpC7B,EAAYG,KACFF,MAAQ4B,EAAMC,OAAOjB,MAE/BC,G,IAGFlB,EAAW,GAAGgB,iBAAiB,SAAS,SAAAiB,IACtC7B,EAAYG,KACFD,QAAU2B,EAAMC,OAAOjB,MAEjCC,G,IAGFjB,EAAQe,iBAAiB,UAAU,SAAAiB,GACjC,IACEA,EAAME,iBAEN/B,EAAYG,IAEZO,QAAQiB,IACN,mBAAuDC,OAA/B5B,EAAUC,MAAM,iBAAmC2B,OAAlB5B,EAAUE,QAAQ,MAG7EG,aAAa2B,WAAWjC,GAExBN,EAAS,GAAGoB,MAAQV,IAAiBF,MACrCL,EAAW,GAAGiB,MAAQV,IAAiBD,O,CACvC,MAAOO,GACPC,QAAQD,MAAM,YAAaA,EAAMP,Q","sources":["src/js/03-feedback.js"],"sourcesContent":["const _ = require('lodash');\nimport { throttle } from '../../node_modules/lodash/throttle.js';\n\nconst emailRef = document.getElementsByName('email');\nconst messageRef = document.getElementsByName('message');\nconst formRef = document.querySelector('.feedback-form');\n\nconst key = 'feedback-form-state';\nconst THROTTLE_VALUE = 500;\nlet formState = {\n  email: '',\n  message: '',\n};\n\nfunction parseFormState() {\n  try {\n    const keyJSON = localStorage.getItem(key);\n\n    return keyJSON ? JSON.parse(keyJSON) : { email: '', message: '' };\n  } catch (error) {\n    console.error('Помилка: ', error.message);\n  }\n}\n\nwindow.addEventListener('load', () => {\n  formState = parseFormState();\n  emailRef[0].value = formState.email;\n  messageRef[0].value = formState.message;\n});\n\nconst setKey = () => {\n  try {\n    localStorage.setItem(key, JSON.stringify(formState));\n\n    // Can be deleted\n    const Data = new Date();\n    const Hour = Data.getHours();\n    const Minutes = Data.getMinutes();\n    const Seconds = Data.getSeconds();\n    console.log(`${Hour}:${Minutes}:${Seconds}`);\n    //\n  } catch (error) {\n    console.error('Помилка: ', error.message);\n  }\n};\n\nconst throttled = _.throttle(setKey, THROTTLE_VALUE);\n\nemailRef[0].addEventListener('input', event => {\n  formState = parseFormState();\n  formState.email = event.target.value;\n\n  throttled();\n});\n\nmessageRef[0].addEventListener('input', event => {\n  formState = parseFormState();\n  formState.message = event.target.value;\n\n  throttled();\n});\n\nformRef.addEventListener('submit', event => {\n  try {\n    event.preventDefault();\n\n    formState = parseFormState();\n\n    console.log(\n      `Об'єкт: {email: ${formState.email} та message: ${formState.message}}`\n    );\n\n    localStorage.removeItem(key);\n\n    emailRef[0].value = parseFormState().email;\n    messageRef[0].value = parseFormState().message;\n  } catch (error) {\n    console.error('Помилка: ', error.message);\n  }\n});\n"],"names":["parcelRequire","$b00c40859be242c5$var$emailRef","document","getElementsByName","$b00c40859be242c5$var$messageRef","$b00c40859be242c5$var$formRef","querySelector","$b00c40859be242c5$var$key","$b00c40859be242c5$var$formState","email","message","$b00c40859be242c5$var$parseFormState","keyJSON","localStorage","getItem","JSON","parse","error","console","window","addEventListener","value","$b00c40859be242c5$var$throttled","$1WSnx","throttle","setItem","stringify","Data","Date","Hour","getHours","Minutes","getMinutes","Seconds","getSeconds","log","concat","event","target","preventDefault","removeItem"],"version":3,"file":"03-feedback.4b8b6245.js.map"}