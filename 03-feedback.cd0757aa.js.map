{"mappings":"oeAAAA,EAAA,S,iBAGA,MAAMC,EAAWC,SAASC,kBAAkB,SACtCC,EAAaF,SAASC,kBAAkB,WACxCE,EAAeH,SAASI,qBAAqB,UAEnDC,QAAQC,IAAIP,EAAS,IAIrB,IAAIQ,EAAY,CACdC,MAAO,GACPC,QAAS,IAGXJ,QAAQC,IAAIC,GAEZ,MAAMG,EAAiB,KACrB,IACE,MAAMC,EAAUC,aAAaC,QAXrB,uBAgBR,OAJkBF,EACdG,KAAKC,MAAMJ,GACX,CAAEH,MAAO,GAAIC,QAAS,G,CAG1B,MAAOO,GACPX,QAAQW,MAAM,YAAoBA,EAAMP,Q,GAI5CQ,OAAOC,iBAAiB,QAAQ,KAC9BX,EAAYG,EAEZL,QAAQC,IAAI,YAAaC,GAEzBR,EAAS,GAAGoB,MAAQZ,EAAUC,MAC9BN,EAAW,GAAGiB,MAAQZ,EAAUE,OAAO,IAiCzCV,EAAS,GAAGmB,iBAAiB,SAASE,GA9BtC,SAAwBA,GACtBC,EAAAC,UAAW,KACT,MAAMC,EAAeH,EAAMI,cAAcL,MACzC,IACEZ,EAAYG,EACZH,EAAUC,MAAQe,EAClBX,aAAaa,QArCP,sBAqCoBX,KAAKY,UAAUnB,G,CACzC,MAAOS,GACPX,QAAQW,MAAM,YAAoBA,EAAMP,Q,CAG1CJ,QAAQC,IAAI,oBAAqBC,EAAU,GAzCzB,I,CA4DyBoB,CAAeP,KAC9DlB,EAAW,GAAGgB,iBAAiB,SAASE,GAhBxC,SAA0BA,GACxBC,EAAAC,UAAW,KACT,MAAMM,EAAiBR,EAAMI,cAAcL,MAC3C,IACEZ,EAAYG,EACZH,EAAUE,QAAUmB,EACpBhB,aAAaa,QApDP,sBAoDoBX,KAAKY,UAAUnB,G,CACzC,MAAOS,GACPX,QAAQW,MAAM,YAAoBA,EAAMP,Q,CAG1CJ,QAAQC,IAAI,sBAAuBC,EAAU,GAxD3B,I,CA6D2BsB,CAAiBT,KAElEjB,EAAa,GAAGe,iBAAiB,UAAU,KACzC,IACEX,EAAYG,EACZL,QAAQC,IACN,sCAACC,EAA2DC,qBAASD,EAAwBE,cAE/FG,aAAakB,O,CACb,MAAOd,GACPX,QAAQW,MAAM,YAAaA,EAAMP,Q","sources":["src/js/03-feedback.js"],"sourcesContent":["const _ = require('../../node_modules/lodash/lodash.js');\nimport { throttle } from '../../node_modules/lodash/throttle.js';\n\nconst emailRef = document.getElementsByName('email');\nconst messageRef = document.getElementsByName('message');\nconst submitBtnRef = document.getElementsByTagName('button');\n\nconsole.log(emailRef[0]);\n\nconst key = 'feedback-form-state';\nconst TROTTLE_VALUE = 500;\nlet formState = {\n  email: '',\n  message: '',\n};\n\nconsole.log(formState);\n\nconst parseFormState = () => {\n  try {\n    const keyJSON = localStorage.getItem(key);\n    const formState = keyJSON\n      ? JSON.parse(keyJSON)\n      : { email: '', message: '' };\n\n    return formState;\n  } catch (error) {\n    console.error('Помилка: ', error.message);\n  }\n};\n\nwindow.addEventListener('load', () => {\n  formState = parseFormState;\n\n  console.log('When load', formState);\n\n  emailRef[0].value = formState.email;\n  messageRef[0].value = formState.message;\n});\n\nfunction throttledEmail(event) {\n  _.throttle(() => {\n    const inputedEmail = event.currentTarget.value;\n    try {\n      formState = parseFormState;\n      formState.email = inputedEmail;\n      localStorage.setItem(key, JSON.stringify(formState));\n    } catch (error) {\n      console.error('Помилка: ', error.message);\n    }\n\n    console.log('Changed Email in ', formState);\n  }, TROTTLE_VALUE);\n}\n\nfunction throttledMessage(event) {\n  _.throttle(() => {\n    const inputedMessage = event.currentTarget.value;\n    try {\n      formState = parseFormState;\n      formState.message = inputedMessage;\n      localStorage.setItem(key, JSON.stringify(formState));\n    } catch (error) {\n      console.error('Помилка: ', error.message);\n    }\n\n    console.log('Changed Message in ', formState);\n  }, TROTTLE_VALUE);\n}\n\nemailRef[0].addEventListener('input', event => throttledEmail(event));\nmessageRef[0].addEventListener('input', event => throttledMessage(event));\n\nsubmitBtnRef[0].addEventListener('submit', () => {\n  try {\n    formState = parseFormState;\n    console.log(\n      `Об'єкт: полями і значеннями email: ${formState.email} та message: ${formState.message}.} `\n    );\n    localStorage.clear();\n  } catch (error) {\n    console.error('Помилка: ', error.message);\n  }\n});\n"],"names":["parcelRequire","$945622fd0f572e60$var$emailRef","document","getElementsByName","$945622fd0f572e60$var$messageRef","$945622fd0f572e60$var$submitBtnRef","getElementsByTagName","console","log","$945622fd0f572e60$var$formState","email","message","$945622fd0f572e60$var$parseFormState","keyJSON","localStorage","getItem","JSON","parse","error","window","addEventListener","value","event","$kEUo3","throttle","inputedEmail","currentTarget","setItem","stringify","$945622fd0f572e60$var$throttledEmail","inputedMessage","$945622fd0f572e60$var$throttledMessage","clear"],"version":3,"file":"03-feedback.cd0757aa.js.map"}