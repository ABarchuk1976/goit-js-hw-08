{"mappings":"oeAAAA,EAAA,S,iBAGA,MAAMC,EAAWC,SAASC,kBAAkB,SACtCC,EAAaF,SAASC,kBAAkB,WACxCE,EAAUH,SAASI,cAAc,kBAIvC,IAAIC,EAAY,CACdC,MAAO,GACPC,QAAS,IAGX,SAASC,IACP,IACE,MAAMC,EAAUC,aAAaC,QATrB,uBAWR,OAAOF,EAAUG,KAAKC,MAAMJ,GAAW,CAAEH,MAAO,GAAIC,QAAS,G,CAC7D,MAAOO,GACPC,QAAQD,MAAM,YAAoBA,EAAMP,Q,EAI5CS,OAAOC,iBAAiB,QAAQ,KAC9BZ,EAAYG,IACZT,EAAS,GAAGmB,MAAQb,EAAUC,MAC9BJ,EAAW,GAAGgB,MAAQb,EAAUE,OAAO,IAGzC,MAgBMY,EAAYC,EAAAC,UAhBH,KACb,IACEX,aAAaY,QAzBL,sBAyBkBV,KAAKW,UAAUlB,IAGzC,MAAMmB,EAAO,IAAIC,KACXC,EAAOF,EAAKG,WACZC,EAAUJ,EAAKK,aACfC,EAAUN,EAAKO,aACrBhB,QAAQiB,IAAI,GAAGN,KAAQE,KAAWE,I,CAElC,MAAOhB,GACPC,QAAQD,MAAM,YAAoBA,EAAMP,Q,IAlCrB,KAwCvBR,EAAS,GAAGkB,iBAAiB,SAASgB,IACpC5B,EAAYG,IACZH,EAAUC,MAAQ2B,EAAMC,OAAOhB,MAE/BC,GAAW,IAGbjB,EAAW,GAAGe,iBAAiB,SAASgB,IACtC5B,EAAYG,IACZH,EAAUE,QAAU0B,EAAMC,OAAOhB,MAEjCC,GAAW,IAGbhB,EAAQc,iBAAiB,UAAUgB,IACjC,IACEA,EAAME,iBAEN9B,EAAYG,IAEZO,QAAQiB,IACN,mBAAC3B,EAAuBC,qBAAgBD,EAAiBE,YAG3DG,aAAa0B,WAjEL,uBAmERrC,EAAS,GAAGmB,MAAQV,IAAiBF,MACrCJ,EAAW,GAAGgB,MAAQV,IAAiBD,O,CACvC,MAAOO,GACPC,QAAQD,MAAM,YAAaA,EAAMP,Q","sources":["src/js/03-feedback.js"],"sourcesContent":["const _ = require('lodash');\nimport { throttle } from '../../node_modules/lodash/throttle.js';\n\nconst emailRef = document.getElementsByName('email');\nconst messageRef = document.getElementsByName('message');\nconst formRef = document.querySelector('.feedback-form');\n\nconst key = 'feedback-form-state';\nconst THROTTLE_VALUE = 500;\nlet formState = {\n  email: '',\n  message: '',\n};\n\nfunction parseFormState() {\n  try {\n    const keyJSON = localStorage.getItem(key);\n\n    return keyJSON ? JSON.parse(keyJSON) : { email: '', message: '' };\n  } catch (error) {\n    console.error('Помилка: ', error.message);\n  }\n}\n\nwindow.addEventListener('load', () => {\n  formState = parseFormState();\n  emailRef[0].value = formState.email;\n  messageRef[0].value = formState.message;\n});\n\nconst setKey = () => {\n  try {\n    localStorage.setItem(key, JSON.stringify(formState));\n\n    // Can be deleted\n    const Data = new Date();\n    const Hour = Data.getHours();\n    const Minutes = Data.getMinutes();\n    const Seconds = Data.getSeconds();\n    console.log(`${Hour}:${Minutes}:${Seconds}`);\n    //\n  } catch (error) {\n    console.error('Помилка: ', error.message);\n  }\n};\n\nconst throttled = _.throttle(setKey, THROTTLE_VALUE);\n\nemailRef[0].addEventListener('input', event => {\n  formState = parseFormState();\n  formState.email = event.target.value;\n\n  throttled();\n});\n\nmessageRef[0].addEventListener('input', event => {\n  formState = parseFormState();\n  formState.message = event.target.value;\n\n  throttled();\n});\n\nformRef.addEventListener('submit', event => {\n  try {\n    event.preventDefault();\n\n    formState = parseFormState();\n\n    console.log(\n      `Об'єкт: {email: ${formState.email} та message: ${formState.message}}`\n    );\n\n    localStorage.removeItem(key);\n\n    emailRef[0].value = parseFormState().email;\n    messageRef[0].value = parseFormState().message;\n  } catch (error) {\n    console.error('Помилка: ', error.message);\n  }\n});\n"],"names":["parcelRequire","$945622fd0f572e60$var$emailRef","document","getElementsByName","$945622fd0f572e60$var$messageRef","$945622fd0f572e60$var$formRef","querySelector","$945622fd0f572e60$var$formState","email","message","$945622fd0f572e60$var$parseFormState","keyJSON","localStorage","getItem","JSON","parse","error","console","window","addEventListener","value","$945622fd0f572e60$var$throttled","$kEUo3","throttle","setItem","stringify","Data","Date","Hour","getHours","Minutes","getMinutes","Seconds","getSeconds","log","event","target","preventDefault","removeItem"],"version":3,"file":"03-feedback.33433a75.js.map"}