{"mappings":"gfAAAA,EAAA,S,iBAGMC,EAAWC,SAASC,kBAAkB,SACtCC,EAAaF,SAASC,kBAAkB,WACxCE,EAAUH,SAASI,cAAc,kBAEjCC,EAAM,sBAENC,EAAY,CAChBC,MAAO,GACPC,QAAS,IAGX,SAASC,IACP,IACE,IAAMC,EAAUC,aAAaC,QAAQP,GAErC,OAAOK,EAAUG,KAAKC,MAAMJ,GAAW,CAAEH,MAAO,GAAIC,QAAS,G,CAC7D,MAAOO,GACPC,QAAQD,MAAM,YAAoBA,EAAMP,Q,EAI5CS,OAAOC,iBAAiB,QAAQ,WAC9BnB,EAAS,GAAGoB,MAAQV,IAAiBF,MACrCL,EAAW,GAAGiB,MAAQV,IAAiBD,O,IAgBzC,IAAMY,EAAYC,EAAAC,UAblB,WACE,IACEX,aAAaY,QAAQlB,EAAKQ,KAAKW,UAAUlB,IACzC,IAAMmB,EAAO,IAAIC,KACXC,EAAOF,EAAKG,WACZC,EAAUJ,EAAKK,aACfC,EAAUN,EAAKO,aACrBhB,QAAQiB,IAAI,GAAWC,OAARP,EAAK,KAAcO,OAAXL,EAAQ,KAAWK,OAARH,G,CAClC,MAAOhB,GACPC,QAAQD,MAAM,YAAoBA,EAAMP,Q,IA9BrB,KAoCvBT,EAAS,GAAGmB,iBAAiB,SAAS,SAAAiB,GACpC7B,EAAUC,MAAQ4B,EAAMC,OAAOjB,MAC/BC,G,IAGFlB,EAAW,GAAGgB,iBAAiB,SAAS,SAAAiB,GACtC7B,EAAUE,QAAU2B,EAAMC,OAAOjB,MACjCC,G,IAGFjB,EAAQe,iBAAiB,UAAU,SAAAiB,GACjC,IACEA,EAAME,iBACN,IAAIC,EAAW7B,IACfH,EAAUC,MAAQ+B,EAAS/B,MAC3BD,EAAUE,QAAU8B,EAAS9B,QAC7BQ,QAAQiB,IACN,wCAA8FC,OAA/B5B,EAAUC,MAAM,iBAAmC2B,OAAlB5B,EAAUE,QAAQ,QAEpHG,aAAa4B,WAAWlC,GACxBN,EAAS,GAAGoB,MAAQV,IAAiBF,MACrCL,EAAW,GAAGiB,MAAQV,IAAiBD,O,CACvC,MAAOO,GACPC,QAAQD,MAAM,YAAaA,EAAMP,Q","sources":["src/js/03-feedback.js"],"sourcesContent":["const _ = require('lodash');\nimport { throttle } from '../../node_modules/lodash/throttle.js';\n\nconst emailRef = document.getElementsByName('email');\nconst messageRef = document.getElementsByName('message');\nconst formRef = document.querySelector('.feedback-form');\n\nconst key = 'feedback-form-state';\nconst THROTTLE_VALUE = 500;\nconst formState = {\n  email: '',\n  message: '',\n};\n\nfunction parseFormState() {\n  try {\n    const keyJSON = localStorage.getItem(key);\n\n    return keyJSON ? JSON.parse(keyJSON) : { email: '', message: '' };\n  } catch (error) {\n    console.error('Помилка: ', error.message);\n  }\n}\n\nwindow.addEventListener('load', () => {\n  emailRef[0].value = parseFormState().email;\n  messageRef[0].value = parseFormState().message;\n});\n\nfunction setKey() {\n  try {\n    localStorage.setItem(key, JSON.stringify(formState));\n    const Data = new Date();\n    const Hour = Data.getHours();\n    const Minutes = Data.getMinutes();\n    const Seconds = Data.getSeconds();\n    console.log(`${Hour}:${Minutes}:${Seconds}`);\n  } catch (error) {\n    console.error('Помилка: ', error.message);\n  }\n}\n\nconst throttled = _.throttle(setKey, THROTTLE_VALUE);\n\nemailRef[0].addEventListener('input', event => {\n  formState.email = event.target.value;\n  throttled();\n});\n\nmessageRef[0].addEventListener('input', event => {\n  formState.message = event.target.value;\n  throttled();\n});\n\nformRef.addEventListener('submit', event => {\n  try {\n    event.preventDefault();\n    let keyValue = parseFormState();\n    formState.email = keyValue.email;\n    formState.message = keyValue.message;\n    console.log(\n      `Об'єкт: з полями і значеннями email: ${formState.email} та message: ${formState.message}.} `\n    );\n    localStorage.removeItem(key);\n    emailRef[0].value = parseFormState().email;\n    messageRef[0].value = parseFormState().message;\n  } catch (error) {\n    console.error('Помилка: ', error.message);\n  }\n});\n"],"names":["parcelRequire","$b00c40859be242c5$var$emailRef","document","getElementsByName","$b00c40859be242c5$var$messageRef","$b00c40859be242c5$var$formRef","querySelector","$b00c40859be242c5$var$key","$b00c40859be242c5$var$formState","email","message","$b00c40859be242c5$var$parseFormState","keyJSON","localStorage","getItem","JSON","parse","error","console","window","addEventListener","value","$b00c40859be242c5$var$throttled","$1WSnx","throttle","setItem","stringify","Data","Date","Hour","getHours","Minutes","getMinutes","Seconds","getSeconds","log","concat","event","target","preventDefault","keyValue","removeItem"],"version":3,"file":"03-feedback.826b0b68.js.map"}