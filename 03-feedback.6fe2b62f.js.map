{"mappings":"gfAAAA,EAAA,S,iBAGMC,EAAWC,SAASC,kBAAkB,SACtCC,EAAaF,SAASC,kBAAkB,WACxCE,EAAeH,SAASI,qBAAqB,UAEnDC,QAAQC,IAAIP,EAAS,IAErB,IAAMQ,EAAM,sBAERC,EAAY,CACdC,MAAO,GACPC,QAAS,IAGXL,QAAQC,IAAIE,GAEZ,IAAMG,EAAiB,WACrB,IACE,IAAMC,EAAUC,aAAaC,QAAQP,GAKrC,OAJkBK,EACdG,KAAKC,MAAMJ,GACX,CAAEH,MAAO,GAAIC,QAAS,G,CAG1B,MAAOO,GACPZ,QAAQY,MAAM,YAAoBA,EAAMP,Q,GAI5CQ,OAAOC,iBAAiB,QAAQ,WAC9BX,EAAYG,EAEZN,QAAQC,IAAI,YAAaE,GAEzBT,EAAS,GAAGqB,MAAQZ,EAAUC,MAC9BP,EAAW,GAAGkB,MAAQZ,EAAUE,O,IAiClCX,EAAS,GAAGoB,iBAAiB,SAAS,SAAAE,G,OA9BtC,SAAwBA,GACtBC,EAAAC,UAAW,WACT,IAAMC,EAAeH,EAAMI,cAAcL,MACzC,KACEZ,EAAYG,GACFF,MAAQe,EAClBX,aAAaa,QAAQnB,EAAKQ,KAAKY,UAAUnB,G,CACzC,MAAOS,GACPZ,QAAQY,MAAM,YAAoBA,EAAMP,Q,CAG1CL,QAAQC,IAAI,oBAAqBE,E,GAzCf,I,CA4DyBoB,CAAeP,E,IAC9DnB,EAAW,GAAGiB,iBAAiB,SAAS,SAAAE,G,OAhBxC,SAA0BA,GACxBC,EAAAC,UAAW,WACT,IAAMM,EAAiBR,EAAMI,cAAcL,MAC3C,KACEZ,EAAYG,GACFD,QAAUmB,EACpBhB,aAAaa,QAAQnB,EAAKQ,KAAKY,UAAUnB,G,CACzC,MAAOS,GACPZ,QAAQY,MAAM,YAAoBA,EAAMP,Q,CAG1CL,QAAQC,IAAI,sBAAuBE,E,GAxDjB,I,CA6D2BsB,CAAiBT,E,IAElElB,EAAa,GAAGgB,iBAAiB,UAAU,WACzC,IACEX,EAAYG,EACZN,QAAQC,IACN,sCAA2FyB,OAA/BvB,EAAUC,MAAM,iBAAmCsB,OAAlBvB,EAAUE,QAAQ,QAEjHG,aAAamB,O,CACb,MAAOf,GACPZ,QAAQY,MAAM,YAAaA,EAAMP,Q","sources":["src/js/03-feedback.js"],"sourcesContent":["const _ = require('../../node_modules/lodash/lodash.js');\nimport { throttle } from '../../node_modules/lodash/throttle.js';\n\nconst emailRef = document.getElementsByName('email');\nconst messageRef = document.getElementsByName('message');\nconst submitBtnRef = document.getElementsByTagName('button');\n\nconsole.log(emailRef[0]);\n\nconst key = 'feedback-form-state';\nconst TROTTLE_VALUE = 500;\nlet formState = {\n  email: '',\n  message: '',\n};\n\nconsole.log(formState);\n\nconst parseFormState = () => {\n  try {\n    const keyJSON = localStorage.getItem(key);\n    const formState = keyJSON\n      ? JSON.parse(keyJSON)\n      : { email: '', message: '' };\n\n    return formState;\n  } catch (error) {\n    console.error('Помилка: ', error.message);\n  }\n};\n\nwindow.addEventListener('load', () => {\n  formState = parseFormState;\n\n  console.log('When load', formState);\n\n  emailRef[0].value = formState.email;\n  messageRef[0].value = formState.message;\n});\n\nfunction throttledEmail(event) {\n  _.throttle(() => {\n    const inputedEmail = event.currentTarget.value;\n    try {\n      formState = parseFormState;\n      formState.email = inputedEmail;\n      localStorage.setItem(key, JSON.stringify(formState));\n    } catch (error) {\n      console.error('Помилка: ', error.message);\n    }\n\n    console.log('Changed Email in ', formState);\n  }, TROTTLE_VALUE);\n}\n\nfunction throttledMessage(event) {\n  _.throttle(() => {\n    const inputedMessage = event.currentTarget.value;\n    try {\n      formState = parseFormState;\n      formState.message = inputedMessage;\n      localStorage.setItem(key, JSON.stringify(formState));\n    } catch (error) {\n      console.error('Помилка: ', error.message);\n    }\n\n    console.log('Changed Message in ', formState);\n  }, TROTTLE_VALUE);\n}\n\nemailRef[0].addEventListener('input', event => throttledEmail(event));\nmessageRef[0].addEventListener('input', event => throttledMessage(event));\n\nsubmitBtnRef[0].addEventListener('submit', () => {\n  try {\n    formState = parseFormState;\n    console.log(\n      `Об'єкт: полями і значеннями email: ${formState.email} та message: ${formState.message}.} `\n    );\n    localStorage.clear();\n  } catch (error) {\n    console.error('Помилка: ', error.message);\n  }\n});\n"],"names":["parcelRequire","$b00c40859be242c5$var$emailRef","document","getElementsByName","$b00c40859be242c5$var$messageRef","$b00c40859be242c5$var$submitBtnRef","getElementsByTagName","console","log","$b00c40859be242c5$var$key","$b00c40859be242c5$var$formState","email","message","$b00c40859be242c5$var$parseFormState","keyJSON","localStorage","getItem","JSON","parse","error","window","addEventListener","value","event","$1WSnx","throttle","inputedEmail","currentTarget","setItem","stringify","$b00c40859be242c5$var$throttledEmail","inputedMessage","$b00c40859be242c5$var$throttledMessage","concat","clear"],"version":3,"file":"03-feedback.6fe2b62f.js.map"}